(this["webpackJsonpreact-boilerplate"]=this["webpackJsonpreact-boilerplate"]||[]).push([[0],{23:function(e,t,c){},24:function(e,t,c){},25:function(e,t,c){},45:function(e,t,c){},50:function(e,t,c){},51:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){},55:function(e,t,c){},56:function(e,t,c){"use strict";c.r(t);var n=c(8),a=c.n(n),r=(c(23),c(2)),s=c(0),i=(c(24),c(25),c(1)),u=function(e){var t=e.onClick;return Object(i.jsx)("button",{className:"button",onClick:t,children:"Search"})},o=c(4),l=c.n(o),j=c(5),b={series:[{data:[]}]},d=["787724816ddef5af6399ca6fd5426676","723fc1e7ede6ef4cd39c83b4a5a525b1","19d9ccfec1ff1750e9a69505e4c82203"],f=/^[a-zA-Z]+$/,h=["5min","10min","15min","30min","1hour","4hour"],O=(c(45),c(18)),v=c.n(O),m=(c(50),function(e){var t=e.onClick,c=e.timeFrame;return Object(i.jsx)("div",{className:"time-frame",children:h.map((function(e){return Object(i.jsx)("button",{className:"time-frame__button ".concat(e===c&&"active"),onClick:function(){return t(e)},children:e},e)}))})});l.a.defaults.baseURL="https://financialmodelingprep.com/";var g=function(e){var t=e.savedCurrencies,c=Object(s.useState)([]),n=Object(r.a)(c,2),a=n[0],u=n[1],o=Object(s.useState)(b),j=Object(r.a)(o,2),f=j[0],h=j[1],O=Object(s.useState)(!0),g=Object(r.a)(O,2),p=g[0],x=g[1],C=Object(s.useState)("15min"),y=Object(r.a)(C,2),N=y[0],S=y[1];return Object(s.useEffect)((function(){l.a.get("api/v3/historical-chart/".concat(N,"/").concat(t,"?apikey=").concat(d[0])).then((function(e){var t=e.data;u(t)})).finally((function(){x(!1)}))}),[N,p,t]),Object(s.useEffect)((function(){var e=setTimeout((function(){var e={series:[{data:a.map((function(e){return{x:e.date,y:[e.open,e.low,e.high,e.close]}})).slice(0,100).reverse()}]};h(e)}),0);return function(){return clearTimeout(e)}}),[t,p,a]),Object(i.jsxs)("div",{className:"wraper-container",children:[Object(i.jsx)(m,{onClick:function(e){S(e)},timeFrame:N}),!p&&Object(i.jsx)(v.a,{options:f,series:f.series,type:"candlestick",className:"charts"})]})},p=(c(51),function(e){var t=e.errorStatus;return Object(i.jsx)("div",{className:"data-error",children:403===t?"Data request limit reached for today":"Some kind of data error"})});c(52);l.a.defaults.baseURL="https://financialmodelingprep.com/";var x=function(e){var t=e.savedCurrencies,c=e.dataError,n=e.setDataError,a=Object(s.useState)([]),u=Object(r.a)(a,2),o=u[0],j=u[1],b=Object(s.useState)(0),f=Object(r.a)(b,2),h=f[0],O=f[1],v=Object(s.useState)("white"),m=Object(r.a)(v,2),x=m[0],C=m[1],y=Object(s.useState)(0),N=Object(r.a)(y,2),S=N[0],k=N[1],_=Object(s.useState)(!0),w=Object(r.a)(_,2),F=w[0],E=w[1],L=Object(s.useRef)(0),T=function(){l.a.get("api/v3/quote/".concat(t,"?apikey=").concat(d[0])).then((function(e){var t=e.data;j(t),E(!1)})).catch((function(e){n(!0),k(e.response.status),E(!0)}))};return Object(s.useEffect)((function(){t&&T()}),[t]),Object(s.useEffect)((function(){if(o.length>0&&!F){var e=setInterval((function(){T()}),1e4);L.current=o[0].price,O(L.current),h<o[0].price?C("green"):h>o[0].price&&C("red");var t=setTimeout((function(){C("white")}),500);return function(){return clearTimeout(t),clearInterval(e)}}}),[o]),Object(i.jsx)(i.Fragment,{children:c?Object(i.jsx)(p,{errorStatus:S}):o.length>0?Object(i.jsxs)("div",{className:"view",children:[Object(i.jsxs)("div",{className:"view__contanier",children:[Object(i.jsx)("div",{className:"view__currencies-main-data",style:{backgroundColor:x},title:"currency pair",children:"".concat(o[0].name,"  ").concat(o[0].price)}),Object(i.jsx)("div",{className:"view__currencies-main-changes",style:{color:o[0].change<0?"red":"green"},title:"actual price",children:"".concat(o[0].change," (").concat(o[0].changesPercentage,"%)")})]}),Object(i.jsx)(g,{savedCurrencies:t})]}):Object(i.jsx)("div",{className:"view__initial-state",children:F?"Please choose currency pair":"Nothing found"})})},C=(c(53),function(e){var t=e.firstCurrencyValue,c=e.onFirstCurrencyValueChange,n=e.secondCurrencyValue,a=e.onSecondCurrencyValueChange,r=Object(s.useRef)(null);Object(s.useEffect)((function(){var e;null===(e=r.current)||void 0===e||e.focus()}),[]);return Object(i.jsxs)("div",{children:[Object(i.jsx)("input",{className:"search-field",type:"text",ref:r,value:t,placeholder:"e.g. usd",title:"Only letters are available",maxLength:3,onChange:function(e){(""===e.target.value||f.test(e.target.value))&&c(e.target.value)}}),Object(i.jsx)("button",{title:"Turn over the currencies",className:"search-field__turn-over-button",onClick:function(){c(n),a(t)},children:"\u21c4"}),Object(i.jsx)("input",{className:"search-field",type:"text",value:n,placeholder:"e.g. eur",title:"Only letters are available",maxLength:3,onChange:function(e){(""===e.target.value||f.test(e.target.value))&&a(e.target.value)}})]})}),y=(c(54),c(55),function(){return Object(i.jsxs)("header",{className:"header",children:[Object(i.jsx)("h1",{children:"Forex Live Wall"}),Object(i.jsxs)("div",{className:"header__container",children:[Object(i.jsx)("h2",{children:"Powered by"}),Object(i.jsx)("img",{className:"header__logo",src:"images/28stone.svg",alt:"28stone"})]})]})}),N=function(){var e=Object(s.useState)(""),t=Object(r.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)(""),o=Object(r.a)(a,2),l=o[0],b=o[1],d=Object(s.useState)(""),f=Object(r.a)(d,2),h=f[0],O=f[1],v=Object(s.useState)(!1),m=Object(r.a)(v,2),g=m[0],p=m[1];return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(j.b,{position:"top-center",autoClose:3e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,transition:j.a,theme:"dark",pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(i.jsx)(y,{}),Object(i.jsxs)("main",{className:"main",children:[Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)(C,{firstCurrencyValue:c,onFirstCurrencyValueChange:n,secondCurrencyValue:l,onSecondCurrencyValueChange:b}),Object(i.jsx)(u,{onClick:function(){var e=(c+l).toUpperCase();6===e.length||g?O(e):j.c.error("Please fill full currency codes")}})]}),Object(i.jsx)(x,{savedCurrencies:h,dataError:g,setDataError:p})]})]})},S=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,57)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};a.a.render(Object(i.jsx)(N,{}),document.getElementById("root")),S()}},[[56,1,2]]]);
//# sourceMappingURL=main.3b84b789.chunk.js.map